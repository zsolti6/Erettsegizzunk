BEGIN
    SELECT 
        feladatok.id,
        feladatok.leiras,
        feladatok.megoldasok,
        feladatok.helyese,
        feladatok.tantargyId,
        feladatok.tipusId,
        feladatok.szintId,

        -- Tantargyak
        tantargyak.id AS TantargyOwnId,
        tantargyak.nev AS TantargyNev,

        -- Szint
        szint.id AS SzintOwnId,
        szint.nev AS SzintNev,

        -- Tipus
        tipus.id AS TipusOwnId,
        tipus.nev AS TipusNev,

        -- Tema (optional based on LEFT JOIN)
        tema.id AS TemaOwnId,
        tema.nev AS TemaNev

    FROM feladatok
    INNER JOIN tantargyak ON tantargyak.id = feladatok.tantargyId
    INNER JOIN szint ON szint.id = feladatok.szintId
    INNER JOIN tipus ON tipus.id = feladatok.tipusId
    LEFT JOIN feladatok_tema ON feladatok_tema.feladatokId = feladatok.id
    LEFT JOIN tema ON tema.id = feladatok_tema.temaId

    WHERE tantargyak.nev = Tantargy AND szint.nev = Szint
    ORDER BY RAND()
    LIMIT 15;
END






{
  "id": 0,
  "tantargy": "történelem",
  "szint": "közép"
}